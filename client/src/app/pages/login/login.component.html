<div class="form-wrapper" fxLayout="row" fxLayoutAlign="center center">
  <mat-card class="box">
    <mat-card-header>
      <mat-card-title>Login</mat-card-title>
    </mat-card-header>

    <mat-horizontal-stepper linear #stepper>

      <mat-step [stepControl]="emailFormGroup">
        <form fxLayout="column" [formGroup]="emailFormGroup">
          <ng-template matStepLabel>Enter your Email</ng-template>

          <mat-form-field class="field-full-width">
            <!-- <mat-label>Email</mat-label> -->
            <input matInput formControlName="email" placeholder="Enter your Email">
            <mat-hint>user@email.com</mat-hint>
            
            <mat-error *ngIf="emailFormGroup.controls.email.hasError('required')">
              Email is <strong>required</strong>
            </mat-error>
            <mat-error *ngIf="emailFormGroup.controls.email.hasError('pattern')">
              Enter a valid Email
            </mat-error>       

          </mat-form-field>

          <mat-checkbox formControlName="remember" color="primary">Recordar Usuario</mat-checkbox>
          <p>Cree una cuenta nueva <a [routerLink]="['/register']"><strong>aqui</strong></a></p>

          <div class="buttons">
            <!-- <button mat-raised-button color="primary" matStepperNext>Next</button> -->
            <button mat-raised-button color="primary" matStepperNext>Next</button>
          </div>

        </form>
      </mat-step> 

      <mat-step [stepControl]="passFormGroup">
        <form fxLayout="column" [formGroup]="passFormGroup">          
          <ng-template matStepLabel>Enter your Password</ng-template>


          <button fxLayoutAlign="start stretch" class="arrowBack" mat-icon-button matSuffix matStepperPrevious>
            <mat-icon>arrow_back</mat-icon>
            {{ emailFormGroup.controls.email.value }}
          </button>
          <!-- <span></span> -->

          <mat-form-field class="field-full-width">
            <!-- <mat-label>Password</mat-label> -->
            <input matInput [type]="hide ? 'password' : 'text'" formControlName="password" placeholder="Enter your Password">
            
            <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
              <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
            </button>

            <mat-error *ngIf="passFormGroup.controls.password.hasError('required')">
              Password is <strong>required</strong>
            </mat-error>            
            <mat-error *ngIf="passFormGroup.controls.password.hasError('minlength')">
              Password must has at least 6 characters
            </mat-error>
            <mat-error *ngIf="passFormGroup.controls.password.hasError('pattern')">
              Password must contain at least a letter
            </mat-error>

          </mat-form-field>

          <p>Olvido su contrase√±a <a href="#">pulse aqui</a></p>
          
          <div class="buttons">
            <!-- <button mat-raised-button color="accent" matStepperPrevious>Back</button> -->
            <button mat-raised-button color="primary" (click)="onSubmitLogin()">Submit</button>          
          </div>

        </form>
      </mat-step>

    </mat-horizontal-stepper>

  </mat-card>
</div>
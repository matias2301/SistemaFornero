<form
    class="mat-elevation-z8 form"
    [formGroup]="productForm"    
>

    <div class="text-divider">Código - Descripción</div> 
    <div class="code-descrip">
        <mat-form-field
            appearance="outline"
            class="code"
        >
            <mat-label>Seleccioná el código</mat-label>
            <mat-select
                formControlName="code"                
            >
                <mat-option>--</mat-option>
                <mat-option
                    *ngFor="let product of products"
                    [value]="product.code"
                    (click)=setDescription(product.descrip)
                >
                    {{product.code}}
                </mat-option>
            </mat-select>
            <mat-error *ngIf="productForm.controls['code'].invalid">Seleccióna una opción</mat-error>                
        </mat-form-field>

        <mat-form-field
            appearance="outline"
            class="descrip"
        >
            <mat-label>Descrición</mat-label>
            <input
                matInput
                formControlName="description"
                placeholder="Descripción"
                readonly
            >
            <mat-error *ngIf="productForm.controls['description'].invalid">Ingresá una descripción</mat-error>
        </mat-form-field>
    </div>

    <div class="text-divider">Precio</div>
    <mat-form-field appearance="outline" class="full-width">
        <mat-label>Precio</mat-label>
        <input
          matInput                
          formControlName="price"
          placeholder="0"
          class="right-align"
          (keydown)="validateNumber($event, true)"
          (blur)="formatNumber('price')"
        >
        <span matPrefix>$&nbsp;</span>
        <mat-error *ngIf="productForm.controls['price'].invalid">
            El precio es <strong>requerido</strong>
        </mat-error>   
    </mat-form-field>

    <div class="text-divider">Stock</div>
    <mat-form-field appearance="outline" class="full-width">
        <mat-label>Stock</mat-label>
        <input
          matInput
          formControlName="stock"
          placeholder="0"
          class="right-align"
          (keydown)="validateNumber($event, false)"
          (blur)="formatNumber('stock')"
        >
        <mat-error *ngIf="productForm.controls['stock'].invalid">
            El stock es <strong>requerido</strong>
        </mat-error>
    </mat-form-field>

    <button
        mat-raised-button
        *ngIf="!disabled"
        type="button"
        color="primary"
        class="btn-submit full-width" 
        (click)="onSubmit(productForm.value)"          
    >
        {{ edit ? 'Modificar producto' : 'Agregar producto'}}
    </button>

</form>
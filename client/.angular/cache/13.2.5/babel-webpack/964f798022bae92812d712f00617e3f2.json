{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, ViewEncapsulation } from '@angular/core';\nimport { menu } from '../../interfaces/menu'; // import { Article } from '../../interfaces/article.interface'\n\nlet HomeComponent = class HomeComponent {\n  constructor(media, _authService, _manageDataService) {\n    this.media = media;\n    this._authService = _authService;\n    this._manageDataService = _manageDataService;\n    this.opened = true;\n    this.menu = menu;\n    this.alertsMsg = [];\n    this.mediaWatcher = this.media.media$.subscribe(mediaChange => {\n      this.handleMediaChange(mediaChange);\n    });\n    this.getUserLogged();\n\n    this._manageDataService.stockWatcher.subscribe(articles => {\n      if (articles) {\n        this.alertsMsg = [];\n        articles.map(article => {\n          if (article.stock < article.poo) {\n            this.alertsMsg.push(`Stock ${article.description} is under Point of Order(${article.poo})`);\n          }\n        });\n      }\n    });\n  }\n\n  handleMediaChange(mediaChange) {\n    if (this.media.isActive('lt-md')) {\n      this.opened = false;\n    } else {\n      this.opened = true;\n    }\n  } // CHECK LOGIN STATE\n\n\n  getUserLogged() {\n    this._authService.authSubject.subscribe(state => {\n      if (state.name) {\n        this.userName = state.name;\n      }\n    });\n  }\n\n  logout() {\n    this._authService.logout();\n  }\n\n  ngOnDestroy() {\n    this.mediaWatcher.unsubscribe();\n  }\n\n};\nHomeComponent = __decorate([Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css'],\n  // Need to remove view encapsulation so that the custom tooltip style defined in\n  // `tooltip-custom-class-example.css` will not be scoped to this component's view.\n  encapsulation: ViewEncapsulation.None\n})], HomeComponent);\nexport { HomeComponent };","map":null,"metadata":{},"sourceType":"module"}